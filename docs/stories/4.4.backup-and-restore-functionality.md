# Story 4.4: Backup and Restore Functionality

## Status
Draft

## Story
**As a** user,
**I want** to backup and restore my application data,
**so that** I can recover from data loss or migrate to a new device.

## Acceptance Criteria

1. Backup function exports all application data to a single file (JSON format)
2. Backup includes: tasks, time entries, clients, projects, columns, settings
3. Backup file downloads with timestamp in filename
4. Restore function allows importing backup file
5. Restore validates backup file format before importing
6. Restore provides preview of data to be imported (task count, date range)
7. Restore can replace all data or merge with existing data (user choice)
8. Restore includes confirmation dialog to prevent accidental data loss
9. Restore handles errors gracefully (invalid file, corrupted data)
10. Backup/restore maintains data integrity (no data loss or corruption)
11. Restore preserves relationships between entities (tasks to clients/projects)
12. Backup can be scheduled or manual (manual for MVP)

## Tasks / Subtasks

- [ ] Task 1: Extend ExportService with backup method (AC: 1, 2, 3)
  - [ ] Update `src/services/ExportService.ts` (from Story 4.3)
  - [ ] Implement `backupAllData(): Promise<void>` method
  - [ ] Use existing `exportAllData('json')` method or create dedicated backup method
  - [ ] Ensure backup includes: tasks, time entries, clients, projects, columns, settings
  - [ ] Generate filename with timestamp: `freelanceflow-backup-YYYY-MM-DD-HHMMSS.json`
  - [ ] Include metadata: export date, app version, record counts
  - [ ] Ensure backup format matches restore format expectations

- [ ] Task 2: Create ImportService class (AC: 4, 5, 9, 10, 11)
  - [ ] Create `src/services/ImportService.ts`
  - [ ] Implement `validateBackupFile(file: File): Promise<BackupValidationResult>` method
  - [ ] Implement `previewBackupData(file: File): Promise<BackupPreview>` method
  - [ ] Implement `restoreBackup(file: File, mode: 'replace' | 'merge'): Promise<void>` method
  - [ ] Handle file reading (FileReader API)
  - [ ] Parse JSON and validate structure
  - [ ] Validate data types and required fields
  - [ ] Handle errors gracefully (invalid JSON, missing fields, corrupted data)
  - [ ] Preserve data relationships during import
  - [ ] Use transactions for data integrity (all-or-nothing import)

- [ ] Task 3: Create backup/restore data types and interfaces (AC: 5, 6, 11)
  - [ ] Update `src/types/export.ts` (from Story 4.3) or create `src/types/backup.ts`
  - [ ] Define `BackupData` interface matching export format from Story 4.3
  - [ ] Define `BackupValidationResult` interface: `{ isValid: boolean, errors: string[], warnings: string[] }`
  - [ ] Define `BackupPreview` interface: `{ taskCount: number, timeEntryCount: number, clientCount: number, projectCount: number, columnCount: number, dateRange: { earliest: Date, latest: Date }, exportDate: Date, version: string }`
  - [ ] Ensure types match export format from Story 4.3
  - [ ] Include relationship validation types

- [ ] Task 4: Implement backup file validation (AC: 5, 9)
  - [ ] Update ImportService
  - [ ] Validate file is JSON (check file extension and MIME type)
  - [ ] Parse JSON and catch syntax errors
  - [ ] Validate root structure: `{ tasks, timeEntries, clients, projects, columns, settings, metadata }`
  - [ ] Validate metadata exists and contains required fields
  - [ ] Validate each data array exists and is an array
  - [ ] Validate required fields in each entity type
  - [ ] Validate date formats (ISO 8601 strings)
  - [ ] Validate relationships (clientId references exist in clients array, etc.)
  - [ ] Return detailed validation errors and warnings
  - [ ] Handle corrupted or partially valid files gracefully

- [ ] Task 5: Implement backup data preview (AC: 6)
  - [ ] Update ImportService
  - [ ] Parse backup file JSON
  - [ ] Calculate record counts for each entity type
  - [ ] Calculate date range from tasks/time entries (earliest createdAt, latest updatedAt)
  - [ ] Extract export date and version from metadata
  - [ ] Return BackupPreview object with all preview information
  - [ ] Handle missing or invalid data gracefully
  - [ ] Show preview even if some validation warnings exist

- [ ] Task 6: Implement replace mode restore (AC: 7, 10, 11)
  - [ ] Update ImportService
  - [ ] Clear all existing data from IndexedDB (tasks, time entries, clients, projects, columns, settings)
  - [ ] Use Dexie transaction to ensure atomicity (all-or-nothing)
  - [ ] Import data in correct order: clients → projects → columns → tasks → time entries → settings
  - [ ] Preserve IDs from backup (don't regenerate)
  - [ ] Preserve relationships (clientId, projectId, taskId, columnId)
  - [ ] Validate relationships during import (ensure referenced entities exist)
  - [ ] Handle missing relationships gracefully (orphaned tasks, etc.)
  - [ ] Use batch operations for performance (bulk add)
  - [ ] Rollback on error (transaction failure)

- [ ] Task 7: Implement merge mode restore (AC: 7, 10, 11)
  - [ ] Update ImportService
  - [ ] Load existing data from IndexedDB
  - [ ] Merge strategy:
    - [ ] Clients: Import if ID doesn't exist, update if exists (or skip duplicates)
    - [ ] Projects: Import if ID doesn't exist, update if exists (or skip duplicates)
    - [ ] Columns: Import if ID doesn't exist, update if exists (or skip duplicates)
    - [ ] Tasks: Import if ID doesn't exist, update if exists (or skip duplicates)
    - [ ] Time Entries: Import if ID doesn't exist, update if exists (or skip duplicates)
    - [ ] Settings: Merge or replace (user preference or replace)
  - [ ] Handle ID conflicts (use existing IDs, don't duplicate)
  - [ ] Preserve relationships (update clientId/projectId references if needed)
  - [ ] Use transactions for atomicity
  - [ ] Provide merge statistics (how many records added, updated, skipped)

- [ ] Task 8: Create BackupRestoreOptions component (AC: 4, 7, 8)
  - [ ] Create `src/components/settings/BackupRestoreOptions.tsx` component
  - [ ] Add backup section with "Create Backup" button
  - [ ] Add restore section with file input for backup file
  - [ ] Show file selection UI (drag-and-drop or file picker)
  - [ ] Show loading state during backup/restore
  - [ ] Show success/error messages
  - [ ] Style consistently with settings UI
  - [ ] Ensure accessibility (ARIA labels, keyboard navigation)

- [ ] Task 9: Create BackupPreview component (AC: 6)
  - [ ] Create `src/components/settings/BackupPreview.tsx` component
  - [ ] Display backup preview information:
    - [ ] Record counts (tasks, time entries, clients, projects, columns)
    - [ ] Date range (earliest to latest)
    - [ ] Export date and version
  - [ ] Show validation warnings if any
  - [ ] Display in modal or expandable section
  - [ ] Style consistently with settings UI
  - [ ] Ensure accessibility

- [ ] Task 10: Create RestoreConfirmationDialog component (AC: 7, 8)
  - [ ] Create `src/components/settings/RestoreConfirmationDialog.tsx` component
  - [ ] Show restore mode selection: "Replace All Data" or "Merge with Existing Data"
  - [ ] Show warning message about data loss (for replace mode)
  - [ ] Show preview information
  - [ ] Include "Cancel" and "Confirm" buttons
  - [ ] Require explicit confirmation (type "RESTORE" or similar for replace mode)
  - [ ] Style as modal dialog
  - [ ] Ensure accessibility (focus trap, keyboard navigation, ESC to close)
  - [ ] Use semantic HTML and ARIA attributes

- [ ] Task 11: Integrate backup/restore into Settings view (AC: 1, 4)
  - [ ] Update `src/components/settings/ExportOptions.tsx` (from Story 4.3) or create SettingsPanel
  - [ ] Import BackupRestoreOptions component
  - [ ] Add BackupRestoreOptions to settings view
  - [ ] Ensure settings view is accessible from Navigation (already exists via ViewContext)
  - [ ] Test navigation to settings and backup/restore functionality

- [ ] Task 12: Implement file upload handling (AC: 4)
  - [ ] Update BackupRestoreOptions component
  - [ ] Add HTML5 file input: `<input type="file" accept=".json,application/json" />`
  - [ ] Support drag-and-drop file upload (optional enhancement)
  - [ ] Validate file type (JSON only)
  - [ ] Validate file size (warn if > 50MB)
  - [ ] Read file using FileReader API
  - [ ] Pass file to ImportService for validation and preview
  - [ ] Show file selection feedback
  - [ ] Handle file read errors

- [ ] Task 13: Implement restore workflow with preview and confirmation (AC: 6, 7, 8)
  - [ ] Update BackupRestoreOptions component
  - [ ] Workflow: File selection → Validation → Preview → Confirmation → Restore
  - [ ] Show preview after file validation
  - [ ] Show confirmation dialog with mode selection
  - [ ] Execute restore based on user selection
  - [ ] Show progress indicator during restore
  - [ ] Show success message with statistics
  - [ ] Handle errors at each step gracefully
  - [ ] Reset UI state after restore completion

- [ ] Task 14: Handle relationship validation and repair (AC: 11)
  - [ ] Update ImportService
  - [ ] Validate relationships before import:
    - [ ] Tasks reference valid clientId (exists in clients array)
    - [ ] Tasks reference valid projectId (exists in projects array, and project.clientId matches)
    - [ ] Tasks reference valid columnId (exists in columns array)
    - [ ] Time entries reference valid taskId (exists in tasks array)
    - [ ] Projects reference valid clientId (exists in clients array)
  - [ ] Repair strategies:
    - [ ] Orphaned tasks (invalid clientId/projectId): Set to null or create placeholder
    - [ ] Orphaned time entries (invalid taskId): Skip or create placeholder task
    - [ ] Orphaned projects (invalid clientId): Set clientId to null or skip
  - [ ] Log relationship issues as warnings
  - [ ] Show warnings in preview/confirmation dialog

- [ ] Task 15: Implement transaction handling for data integrity (AC: 10)
  - [ ] Update ImportService
  - [ ] Use Dexie transaction for replace mode:
    - [ ] Start transaction
    - [ ] Clear all tables
    - [ ] Import all data
    - [ ] Commit or rollback on error
  - [ ] Use Dexie transaction for merge mode:
    - [ ] Start transaction
    - [ ] Merge data
    - [ ] Commit or rollback on error
  - [ ] Handle transaction errors gracefully
  - [ ] Ensure partial imports don't leave database in inconsistent state
  - [ ] Provide rollback capability if restore fails

- [ ] Task 16: Add error handling and user feedback (AC: 9)
  - [ ] Update ImportService
  - [ ] Handle file read errors (file not found, read permission denied)
  - [ ] Handle JSON parse errors (invalid JSON syntax)
  - [ ] Handle validation errors (missing fields, invalid types)
  - [ ] Handle import errors (IndexedDB errors, quota exceeded)
  - [ ] Handle relationship errors (orphaned references)
  - [ ] Show user-friendly error messages
  - [ ] Log errors for debugging
  - [ ] Provide recovery suggestions

- [ ] Task 17: Add unit tests for ImportService (AC: All)
  - [ ] Create `tests/unit/services/ImportService.test.ts`
  - [ ] Mock File and FileReader APIs
  - [ ] Test backup file validation (valid, invalid JSON, missing fields)
  - [ ] Test backup preview generation
  - [ ] Test replace mode restore
  - [ ] Test merge mode restore
  - [ ] Test relationship validation
  - [ ] Test error handling
  - [ ] Test transaction handling
  - [ ] Mock repositories

- [ ] Task 18: Add unit tests for backup/restore components (AC: 4, 6, 7, 8)
  - [ ] Create `tests/unit/components/settings/BackupRestoreOptions.test.tsx`
  - [ ] Create `tests/unit/components/settings/BackupPreview.test.tsx`
  - [ ] Create `tests/unit/components/settings/RestoreConfirmationDialog.test.tsx`
  - [ ] Test component rendering
  - [ ] Test file upload handling
  - [ ] Test preview display
  - [ ] Test confirmation dialog
  - [ ] Test restore workflow
  - [ ] Mock ImportService and ExportService
  - [ ] Use React Testing Library

- [ ] Task 19: Add integration tests for backup/restore workflow (AC: All)
  - [ ] Create `tests/integration/BackupRestoreWorkflow.test.tsx`
  - [ ] Test complete backup workflow (create backup, download file)
  - [ ] Test complete restore workflow (upload file, preview, confirm, restore)
  - [ ] Test replace mode restore
  - [ ] Test merge mode restore
  - [ ] Test relationship preservation
  - [ ] Test error handling
  - [ ] Use React Testing Library with full context providers
  - [ ] Mock file operations

- [ ] Task 20: Add E2E tests for backup/restore (AC: All)
  - [ ] Create `tests/e2e/backup-restore.spec.ts`
  - [ ] Test creating backup file
  - [ ] Test uploading backup file
  - [ ] Test preview display
  - [ ] Test restore confirmation
  - [ ] Test replace mode restore
  - [ ] Test merge mode restore
  - [ ] Test error handling (invalid file, corrupted data)
  - [ ] Use Playwright for E2E testing
  - [ ] Test with sample backup files

## Dev Notes

### Previous Story Insights

From Story 4.3 (Data Export):
- ExportService already exists with `exportAllData('json')` method
- Export format includes: tasks, time entries, clients, projects, columns, settings, metadata
- Export format uses ISO 8601 date strings
- Export format preserves relationships (clientId, projectId, taskId, columnId)
- Export format includes metadata: exportDate, version, counts
- File download utility exists (`fileUtils.ts`)
- Settings view exists (needs expansion)

**Key Integration Points:**
- Story 4.4 extends ExportService with backup method (or uses existing exportAllData)
- Story 4.4 creates new ImportService for restore functionality
- Story 4.4 uses export format from Story 4.3 (must be compatible)
- Story 4.4 integrates with existing repositories for data import
- Story 4.4 adds UI to existing settings view

### Data Models

**Backup Data Format** (matches export format from Story 4.3):
```typescript
interface BackupData {
  tasks: Task[];
  timeEntries: TimeEntry[];
  clients: Client[];
  projects: Project[];
  columns: Column[];
  settings: Settings;
  metadata: {
    exportDate: string; // ISO 8601
    version: string; // App version
    counts: {
      tasks: number;
      timeEntries: number;
      clients: number;
      projects: number;
      columns: number;
    };
  };
}
```

**Backup Validation Result:**
```typescript
interface BackupValidationResult {
  isValid: boolean;
  errors: string[]; // Critical errors that prevent import
  warnings: string[]; // Non-critical issues (orphaned references, etc.)
}
```

**Backup Preview:**
```typescript
interface BackupPreview {
  taskCount: number;
  timeEntryCount: number;
  clientCount: number;
  projectCount: number;
  columnCount: number;
  dateRange: {
    earliest: Date;
    latest: Date;
  };
  exportDate: Date;
  version: string;
  warnings?: string[]; // Validation warnings
}
```

**All Data Models** [Source: architecture/common/data-models.md]:
- Task, TimeEntry, Client, Project, Column, Settings (see Story 4.3 for full interfaces)

**Key Relationships for Import:**
- TimeEntry belongs to Task (via taskId) - validate taskId exists
- Task belongs to Client (via clientId, optional) - validate clientId exists or is null
- Task belongs to Project (via projectId, optional) - validate projectId exists or is null, and project.clientId matches task.clientId
- Task belongs to Column (via columnId) - validate columnId exists
- Project belongs to Client (via clientId) - validate clientId exists
- All relationships must be validated and repaired during import

### Component Specifications

**ImportService** [Source: architecture/components.md#export-service (extended)]:
- Location: `src/services/ImportService.ts`
- Responsibility: Handles backup file import and restore functionality
- Dependencies: Data Access Layer (repositories), ExportService (for backup)
- Technology Stack: TypeScript, FileReader API, Dexie transactions

**BackupRestoreOptions Component:**
- Location: `src/components/settings/BackupRestoreOptions.tsx`
- Should follow component template pattern from frontend architecture
- Use ImportService and ExportService for operations
- Show loading states, success/error messages
- Handle file upload (HTML5 file input)

**BackupPreview Component:**
- Location: `src/components/settings/BackupPreview.tsx`
- Displays backup data preview
- Shows record counts, date range, export info
- Shows validation warnings

**RestoreConfirmationDialog Component:**
- Location: `src/components/settings/RestoreConfirmationDialog.tsx`
- Modal dialog for restore confirmation
- Mode selection (replace vs merge)
- Preview information display
- Confirmation requirement (type "RESTORE" for replace mode)

### File Locations

Based on project structure [Source: architecture/unified-project-structure.md]:
- Service: `src/services/ImportService.ts` (new)
- Service: `src/services/ExportService.ts` (update existing from Story 4.3)
- Component: `src/components/settings/BackupRestoreOptions.tsx` (new)
- Component: `src/components/settings/BackupPreview.tsx` (new)
- Component: `src/components/settings/RestoreConfirmationDialog.tsx` (new)
- Types: `src/types/backup.ts` (new) or update `src/types/export.ts`
- Settings view: `src/components/settings/SettingsPanel.tsx` (new) or update `src/App.tsx`
- Unit tests: `tests/unit/services/ImportService.test.ts` (new)
- Unit tests: `tests/unit/components/settings/BackupRestoreOptions.test.tsx` (new)
- Unit tests: `tests/unit/components/settings/BackupPreview.test.tsx` (new)
- Unit tests: `tests/unit/components/settings/RestoreConfirmationDialog.test.tsx` (new)
- Integration tests: `tests/integration/BackupRestoreWorkflow.test.tsx` (new)
- E2E tests: `tests/e2e/backup-restore.spec.ts` (new)

### API Specifications

**N/A - No Backend API** [Source: architecture/common/frontend-architecture.md#api-client-setup]

All backup/restore operations happen client-side:
- ExportService uses repositories to fetch data from IndexedDB
- ExportService generates JSON backup file
- Browser Download API triggers file download
- ImportService reads backup file using FileReader API
- ImportService uses repositories to write data to IndexedDB
- No server-side processing needed

**Repository Methods Used:**
- `TaskRepository.getAll()` - Get all tasks (for merge comparison)
- `TaskRepository.create()` - Create task (for import)
- `TaskRepository.bulkAdd()` or loop - Bulk import tasks
- `TimeEntryRepository.getAll()` - Get all time entries
- `TimeEntryRepository.create()` - Create time entry
- `ClientRepository.getAll()` - Get all clients
- `ClientRepository.create()` - Create client
- `ProjectRepository.getAll()` - Get all projects
- `ProjectRepository.create()` - Create project
- `ColumnRepository.getAll()` - Get all columns
- `ColumnRepository.create()` - Create column
- `SettingsRepository.getSettings()` - Get settings
- `SettingsRepository.updateSettings()` - Update settings
- `db.tasks.clear()`, `db.timeEntries.clear()`, etc. - Clear tables (for replace mode)

**FileReader API:**
- `FileReader.readAsText(file)` - Read backup file as text
- Handle `onload`, `onerror` events
- Parse JSON from text

**Dexie Transactions:**
- `db.transaction('rw', db.tasks, db.timeEntries, ...)` - Create transaction
- Ensure atomicity (all-or-nothing)
- Rollback on error

### Technical Constraints

**Performance Requirements** [Source: architecture/common/coding-standards.md#critical-frontend-rules]:
- Handle large backup files efficiently (50MB+)
- Use batch operations for bulk imports (bulkAdd or loop with batching)
- Show progress indicator for large imports
- Use transactions for atomicity (all-or-nothing)
- Monitor memory usage during import

**Data Integrity Requirements:**
- Use Dexie transactions for atomic imports
- Validate data before import
- Preserve relationships during import
- Handle orphaned references gracefully
- Rollback on error (don't leave database in inconsistent state)
- Ensure no data loss or corruption

**File Upload Requirements:**
- Use HTML5 file input: `<input type="file" accept=".json,application/json" />`
- Validate file type (JSON only)
- Validate file size (warn if > 50MB)
- Use FileReader API for file reading
- Handle file read errors gracefully

**Backup Format Requirements:**
- Must match export format from Story 4.3
- JSON format with ISO 8601 date strings
- Include metadata for validation
- Preserve all IDs and relationships
- Valid JSON (parseable)

**Restore Mode Requirements:**
- Replace mode: Clear all data, import backup data
- Merge mode: Import backup data, handle conflicts (skip duplicates or update)
- User choice via confirmation dialog
- Show warnings for replace mode (data loss)

**Relationship Validation Requirements:**
- Validate all foreign key references before import
- Repair orphaned references (set to null or create placeholders)
- Log relationship issues as warnings
- Show warnings in preview/confirmation

**Error Handling Requirements:**
- Handle file read errors
- Handle JSON parse errors
- Handle validation errors
- Handle import errors (IndexedDB errors, quota exceeded)
- Show user-friendly error messages
- Provide recovery suggestions

### Testing Requirements

**Unit Testing** [Source: architecture/common/testing-strategy.md#test-organization]:
- Test file locations: `tests/unit/services/`, `tests/unit/components/settings/`
- Use Jest + React Testing Library
- Mock File and FileReader APIs
- Mock repositories
- Test backup validation
- Test backup preview
- Test replace mode restore
- Test merge mode restore
- Test relationship validation
- Test error handling
- Test transaction handling
- Aim for 80%+ code coverage

**Integration Testing** [Source: architecture/common/testing-strategy.md#test-organization]:
- Test file location: `tests/integration/BackupRestoreWorkflow.test.tsx`
- Test complete workflows with real repositories
- Test file operations (mock FileReader)
- Test replace mode restore
- Test merge mode restore
- Test relationship preservation
- Use React Testing Library with full context providers

**E2E Testing** [Source: architecture/common/testing-strategy.md#test-organization]:
- Test file location: `tests/e2e/backup-restore.spec.ts`
- Use Playwright for browser testing
- Test complete user workflows
- Test file upload (use sample backup files)
- Test restore confirmation
- Test replace and merge modes
- Test error handling
- Test with real backup files

**Accessibility Testing** [Source: architecture/common/accessibility-implementation.md#accessibility-testing]:
- Use jest-axe for automated accessibility testing
- Test keyboard navigation
- Test file input accessibility
- Test modal dialog accessibility (focus trap, ESC key)
- Test with screen readers
- Verify ARIA labels are correct

### Project Structure Notes

**Service Organization** [Source: architecture/common/frontend-architecture.md#frontend-services-layer]:
- Services go in `src/services/` directory
- ImportService follows service pattern (class-based)
- Use repositories for data access (don't access IndexedDB directly)
- Use transactions for data integrity

**Component Organization** [Source: architecture/common/frontend-architecture.md#component-organization]:
- Settings-related components go in `src/components/settings/` directory
- Follow existing component patterns
- Use TypeScript interfaces for props
- One component per file

**Styling** [Source: architecture/common/tech-stack.md]:
- Use Tailwind CSS ^3.4.0 for styling
- Use utility classes for responsive design
- Follow existing design patterns from settings view

**No Specific Guidance Found:**
- Merge conflict resolution strategy (skip duplicates vs update existing)
- Orphaned reference repair strategy (set to null vs create placeholder)
- File size limit for backup files (50MB suggested, but not specified)
- Confirmation requirement for replace mode (type "RESTORE" vs simple button click)

## Testing

### Testing Standards

**Test File Location** [Source: architecture/common/testing-strategy.md#test-organization]:
- Unit tests: `tests/unit/services/`, `tests/unit/components/settings/`
- Integration tests: `tests/integration/`
- E2E tests: `tests/e2e/`

**Testing Frameworks** [Source: architecture/common/tech-stack.md]:
- Jest ^29.7.0 for unit and integration testing
- React Testing Library ^14.0.0 for component testing
- Playwright ^1.40.0 for E2E testing

**Testing Patterns** [Source: architecture/common/testing-strategy.md#test-examples]:
- Use React Testing Library queries (getByRole, getByLabelText, etc.)
- Mock File and FileReader APIs
- Mock repositories
- Test user interactions, not implementation details
- Use proper async handling with waitFor
- Test with sample backup files

**Accessibility Testing** [Source: architecture/common/accessibility-implementation.md#accessibility-testing]:
- Install and use jest-axe: `npm install --save-dev jest-axe`
- Add accessibility tests to component test suites
- Test keyboard navigation manually
- Test file input accessibility
- Test modal dialog accessibility
- Test with screen readers

**Specific Testing Requirements for This Story:**
- Test backup file creation and download
- Test backup file validation (valid, invalid, corrupted)
- Test backup preview generation
- Test replace mode restore
- Test merge mode restore
- Test relationship validation and repair
- Test transaction handling (atomicity, rollback)
- Test error handling (file errors, validation errors, import errors)
- Test confirmation dialog
- Test file upload handling

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2026-01-26 | 1.0 | Initial story draft | Scrum Master |

## Dev Agent Record

_This section will be populated by the development agent during implementation_

### Agent Model Used
_To be filled by dev agent_

### Debug Log References
_To be filled by dev agent_

### Completion Notes List
_To be filled by dev agent_

### File List
_To be filled by dev agent_

## QA Results

_Results from QA Agent review will be populated here after implementation_
